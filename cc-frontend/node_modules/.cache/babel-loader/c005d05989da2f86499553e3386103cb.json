{"ast":null,"code":"var _jsxFileName = \"/home/sakthi/vunet/apps/control-center/src/form-components/FormMultiCheckbox.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Checkbox, FormControl, FormControlLabel, FormLabel } from \"@material-ui/core\";\nimport { Controller } from \"react-hook-form\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"@emotion/react/jsx-dev-runtime\";\nexport const FormInputMultiCheckbox = ({\n  name,\n  control,\n  setValue,\n  label,\n  list: _list = []\n}) => {\n  _s();\n\n  const [data, setData] = React.useState({});\n\n  const getAPIData = async () => {\n    try {\n      const data = await axios.get(`http://127.0.0.1:8000/api/labels/`);\n      setData(data.data);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  React.useEffect(() => {\n    getAPIData();\n  }, []);\n  let temp = String(data[0]);\n  temp = temp.slice(1, -2);\n  const options_list = temp.split(',');\n  const options = options_list == null ? void 0 : options_list.map(function (e) {\n    return {\n      label: e,\n      value: e\n    };\n  });\n  console.log(options); // const [selectedItems, setSelectedItems] = useState<string[]>([]);\n\n  const [selectedItems, setSelectedItems] = useState(_list);\n\n  const handleSelect = value => {\n    if (selectedItems !== undefined) {\n      const isPresent = selectedItems.indexOf(value);\n\n      if (isPresent !== -1) {\n        const remaining = selectedItems.filter(item => item !== value);\n        setSelectedItems(remaining);\n      } else {\n        setSelectedItems(prevItems => [...prevItems, value]);\n      }\n    }\n  };\n\n  useEffect(() => {\n    setValue(name, selectedItems);\n  }, [selectedItems]);\n  return _jsxDEV(FormControl, {\n    size: \"small\",\n    variant: \"outlined\",\n    children: [_jsxDEV(FormLabel, {\n      component: \"legend\",\n      children: label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), _jsxDEV(\"div\", {\n      children: options == null ? void 0 : options.map(option => {\n        return _jsxDEV(FormControlLabel, {\n          control: _jsxDEV(Controller, {\n            name: name,\n            render: () => {\n              return _jsxDEV(Checkbox, {\n                checked: selectedItems == null ? void 0 : selectedItems.includes(option.value),\n                onChange: () => handleSelect(option.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 23\n              }, this);\n            },\n            control: control\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 17\n          }, this),\n          label: option.label\n        }, option.value, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n};\n\n_s(FormInputMultiCheckbox, \"Sq5ZZHvUjV4fBjUB5D42xX7abWg=\");\n\n_c = FormInputMultiCheckbox;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormInputMultiCheckbox\");","map":{"version":3,"names":["React","useEffect","useState","Checkbox","FormControl","FormControlLabel","FormLabel","Controller","axios","FormInputMultiCheckbox","name","control","setValue","label","list","data","setData","getAPIData","get","e","console","log","temp","String","slice","options_list","split","options","map","value","selectedItems","setSelectedItems","handleSelect","undefined","isPresent","indexOf","remaining","filter","item","prevItems","option","includes"],"sources":["/home/sakthi/vunet/apps/control-center/src/form-components/FormMultiCheckbox.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  Checkbox,\n  FormControl,\n  FormControlLabel,\n  FormLabel,\n} from \"@material-ui/core\";\nimport { Controller } from \"react-hook-form\";\nimport { FormInputProps } from \"./FormInputProps\";\nimport axios from \"axios\";\n\nexport const FormInputMultiCheckbox: React.FC<FormInputProps> = ({\n  name,\n  control,\n  setValue,\n  label,\n  list=[]\n}) => {\n  const [data, setData] = React.useState<Record<string, unknown>>({});\n\n  const getAPIData = async () => {\n    try {\n      const data = await axios.get<Record<string,unknown>>(\n        `http://127.0.0.1:8000/api/labels/`\n      );\n\n      setData(data.data);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n  React.useEffect(() => {\n    getAPIData();\n  }, []);\n\n\n  let temp = String(data[0]);\n  temp = temp.slice(1, -2);\n\n  const options_list = temp.split(',');\n\n  const options = options_list?.map(function (e) {\n    return { label: e, value: e }\n  })\n\n  console.log(options);\n\n\n  // const [selectedItems, setSelectedItems] = useState<string[]>([]);\n  const [selectedItems, setSelectedItems] = useState<string[]>(list);\n  \n\n\n  const handleSelect = (value: string) => {\n    if (selectedItems!==undefined){\n    const isPresent= selectedItems.indexOf(value);\n    if (isPresent !== -1) {\n      const remaining = selectedItems.filter((item) => item !== value);\n      setSelectedItems(remaining);\n    } else {\n      setSelectedItems((prevItems) => [...prevItems, value]);\n    }\n  }\n  };\n\n  useEffect(() => {\n    setValue(name, selectedItems);\n  }, [selectedItems]);\n\n\n\n  return (\n\n\n    <FormControl size={\"small\"} variant={\"outlined\"}>\n      <FormLabel component=\"legend\">{label}</FormLabel>\n\n      <div>\n        {options?.map((option) => {\n          return (\n            <FormControlLabel\n              control={\n                <Controller\n                  name={name}\n                  render={() => {\n                    return (\n                      <Checkbox\n                        checked={selectedItems?.includes(option.value)}\n                        onChange={() => handleSelect(option.value)}\n                      />\n                    );\n                  }}\n                  control={control}\n                />\n              }\n              label={option.label}\n              key={option.value}\n            />\n          );\n        })}\n      </div>\n    </FormControl>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}